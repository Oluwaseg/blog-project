<aside aria-label="Related articles" class="py-8 lg:py-14">
  <div class="px-4 mx-auto max-w-screen-xl">
    <h2 class="mb-8 text-2xl font-bold text-gray-900">Related articles</h2>
    <div
      class="grid gap-12 sm:grid-cols-2 lg:grid-cols-4"
      id="related-articles"
    >
      <% let displayedCategories = {}; %> <% let totalDisplayed = 0; %> <% for
      (let category in randomBlogByCategory) { %> <% let blogs =
      randomBlogByCategory[category]; %> <% if (blogs.length > 0 &&
      !displayedCategories[category] && totalDisplayed < 5) { %> <%
      displayedCategories[category] = true; %> <% let blog =
      blogs[Math.floor(Math.random() * blogs.length)]; %> <% totalDisplayed++;
      %>
      <article
        class="max-w-xs h-full rounded-xl shadow-lg bg-gradient-to-r from-indigo-50 to-blue-50 overflow-hidden p-3"
      >
        <div class="p-1">
          <img src="<%= blog.image ||
          "https://images.unsplash.com/photo-1561654791-00316c79efa8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDE5fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=900&q=60"
          %>" class="mb-5 rounded-lg lg:h-48 md:h-36 w-full object-cover
          object-center scale-110 transition-all duration-400 hover:scale-100"
          alt="<%= blog.title %>" />
        </div>
        <h2 class="mb-2 text-xl font-bold leading-tight text-gray-900">
          <a href="#"><%= blog.title %></a>
        </h2>
        <p class="mb-4 text-gray-500 dark:text-gray-400">
          <%= blog.description %>
        </p>
        <a
          href="/blog/<%= blog.slug %>"
          class="inline-flex items-center font-medium underline underline-offset-4 text-primary-600 dark:text-primary-500 hover:no-underline"
        >
          Read in 2 minutes
        </a>
      </article>
      <% } %> <% } %>
    </div>
  </div>
</aside>
